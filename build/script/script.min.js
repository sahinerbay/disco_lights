"use strict";var dom=function(){var s=function(e,t){return document.querySelectorAll("."+e)[t]},t=void 0;return{createElement:function(e){return document.createElement(e)},setClass:function(e,t){return e.className=t},toggleClassName:function(e,t){return e.classList.toggle(t)},setAttributes:function(e,t){for(var n in t)e.setAttribute(n,t[n])},append:function(e,t){return e.appendChild(t)},getElement:s,changeColor:function(a,e){t=setInterval(function(){var e,t,n=s("box",Math.floor(Math.random()*a));e=n,t=function(){for(var e="#",t=0;t<6;)e+="0123456789ABCDEF"[Math.floor(16*Math.random())],t++;return e}(),e.style.background=t},e)},clearInterval:function(){return window.clearInterval(t)},removeAllChildren:function(e){for(;e.hasChildNodes();)e.removeChild(e.lastChild)}}}(),create=function(){var n=function(t){var e=dom.createElement("div"),n=dom.getElement("settings__container",0),a=dom.getElement("container",0);dom.setClass(e,"settings__container__"+t.classname),dom.append(n,e);var s=dom.createElement("h2");s.textContent=t.title,dom.setClass(s,"settings__container__"+t.classname+"__title"),dom.append(e,s);var i=dom.createElement("input");dom.setAttributes(i,t.attrs),dom.append(e,i);var l=dom.createElement("p");l.textContent="value: "+i.value,dom.setClass(l,"settings__container__"+t.classname+"__value"),dom.append(e,l),"cells"===t.classname?i.addEventListener("input",function(){l.textContent="value: "+this.value;var e=dom.getElement("settings__container__speed__input",0);dom.clearInterval(),dom.removeAllChildren(a),create.cells(this.value),dom.changeColor(this.value,e.value)}):"speed"===t.classname?i.addEventListener("input",function(){l.textContent="value: "+this.value;var e=dom.getElement("settings__container__cells__input",0);dom.clearInterval(),dom.changeColor(e.value,this.value)}):i.addEventListener("input",function(){l.textContent="value: "+this.value;var e=void 0;switch(t.classname){case"transition":e="all "+this.value/100+"s";break;case"gridGap":e=this.value+"px "+this.value+"px";break;case"borderRadius":e=this.value/2+"%"}document.styleSheets[0].rules[t.cssStyleRule].style[t.classname]=e})};return{container:function(){var e=dom.createElement("div");dom.setClass(e,"container"),dom.append(document.body,e)},cells:function(e){for(var t=dom.getElement("container",0),n=0;n<e;){var a=dom.createElement("div");dom.setClass(a,"box"),dom.append(t,a),n++}},settingsBar:function(){var e=dom.createElement("div");dom.setClass(e,"settings"),dom.append(document.body,e);var t=dom.createElement("div");dom.setClass(t,"settings__container"),dom.append(e,t)},allSliders:function(e){for(var t in e)n(e[t])},addShowButton:function(){var n=dom.createElement("div"),a=dom.createElement("span");dom.setClass(a,"btn-show"),dom.setClass(n,"settings settings-show");var e=document.createTextNode("show settings");dom.append(a,e),dom.append(n,a),dom.append(document.body,n),a.addEventListener("click",function(){var e=dom.getElement("settings",0),t=a.textContent;a.textContent=(-1===t.search(/show/i)?"show":"hide")+" settings",dom.toggleClassName(e,"settings-hidden"),dom.toggleClassName(n,"btnContainer-hidden")})}}}(),settings={transition:{classname:"transition",title:"transition",attrs:{class:"settings__container__transition__input",type:"range",min:1,max:100,value:1},cssStyleRule:3},cells:{classname:"cells",title:"number of cells",attrs:{class:"settings__container__cells__input",type:"range",min:1,max:150,value:50}},gap:{classname:"gridGap",title:"distance",attrs:{class:"settings__container__gridGap__input",type:"range",min:1,max:100,value:1},cssStyleRule:2},radius:{classname:"borderRadius",title:"Radius",attrs:{class:"settings__container__borderRadius__input",type:"range",min:1,max:100,value:10},cssStyleRule:3},speed:{classname:"speed",title:"Speed",attrs:{class:"settings__container__speed__input",type:"range",min:1,max:100,value:50}}},initialCells=50,initialSpeed=50;create.container(),create.cells(initialCells),create.settingsBar(),dom.changeColor(initialCells,initialSpeed),create.allSliders(settings),create.addShowButton();